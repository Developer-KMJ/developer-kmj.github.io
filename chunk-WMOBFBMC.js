import{b as I,c as D,d as k,e as S}from"./chunk-ZZO3UGZ2.js";import{D as y,E as c,H as p,I as d,J as u,L as m,R as h,S as w,U as C,V as b,W as T,Y as _,ga as v,ha as M,m as x,y as a}from"./chunk-P6PJ7GLZ.js";function A(r,i){r&1&&u(0,"img",7)}function P(r,i){r&1&&u(0,"img",8)}var E=class r{word="";answer="";IsReadOnly=!1;correct=!1;inputText="";constructor(){}onInput(i){let e=i.target.value;this.correct=e.trim().toLowerCase()==this.answer.trim().toLowerCase()}onShowMeClick(i){this.inputText=this.answer,this.correct=!0}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=x({type:r,selectors:[["app-translation-text-box"]],inputs:{word:"word",answer:"answer",IsReadOnly:"IsReadOnly"},standalone:!0,features:[_],decls:9,vars:7,consts:[[1,"translation-question"],[1,"translation-text"],[1,"translation-input-container"],["type","text",1,"translation-input-field",3,"ngModelChange","onKeyDown","input","ngModel","readonly","disabled"],["src","assets/components/grayCheck.png","alt","Check","class","translation-check-icon",4,"ngIf"],["src","assets/components/greenCheck.png","alt","Check","class","translation-check-icon",4,"ngIf"],[1,"translation-button",3,"click","disabled"],["src","assets/components/grayCheck.png","alt","Check",1,"translation-check-icon"],["src","assets/components/greenCheck.png","alt","Check",1,"translation-check-icon"]],template:function(n,e){n&1&&(p(0,"div",0)(1,"div",1),h(2),d(),p(3,"div",2)(4,"input",3),T("ngModelChange",function(o){return b(e.inputText,o)||(e.inputText=o),o}),m("onKeyDown",function(o){return e.onInput(o)})("input",function(o){return e.onInput(o)}),d(),y(5,A,1,0,"img",4)(6,P,1,0,"img",5),d(),p(7,"button",6),m("click",function(o){return e.onShowMeClick(o)}),h(8,"\u{10456}\u{10474} \u{10465}\u{10470}"),d()()),n&2&&(a(2),w(e.word),a(2),C("ngModel",e.inputText),c("readonly",e.IsReadOnly)("disabled",e.correct),a(),c("ngIf",e.correct==!1),a(),c("ngIf",e.correct==!0),a(),c("disabled",e.correct))},dependencies:[M,v,S,I,D,k],styles:[".translation-question[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.6rem 1rem;border-radius:4px;min-width:200px}.translation-input-container[_ngcontent-%COMP%]{position:relative;flex-grow:1}.translation-input-field[_ngcontent-%COMP%]{width:100%;padding:5px 30px 5px 5px;font-size:1em;border:1px solid;border-color:var(--button-border-color);border-radius:3px}.translation-check-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;transform:translateY(-50%);width:20px;height:20px}.translation-text[_ngcontent-%COMP%]{margin-right:20px;font-size:1.25em;text-align:right;min-width:100px}.translation-button[_ngcontent-%COMP%]{padding:5px 10px;font-size:1em;border:1px solid;border-color:var(--button-border-color);border-radius:3px;background-color:var(--button-background-color);cursor:pointer;margin-left:10px}@media (max-width: 550px){.translation-text[_ngcontent-%COMP%]{font-size:1em}}"]})};var O=class{constructor(i,n=0){this.dictionary=i;this.levelsOfDifficulty=n}index=0;getRandomWordsEx(i){let e=this.getRandomWords(i*this.levelsOfDifficulty).sort(g=>g.shaw.length),t=this.index*this.levelsOfDifficulty,o=e.slice(t,t+i);return this.index<i&&this.index++,o}getRandomWords(i){if(this.dictionary==null)return[];let n=[],e=new Set;for(;n.length<i&&n.length<this.dictionary.length;){let t=Math.floor(Math.random()*this.dictionary.length);e.has(t)||(e.add(t),n.push(this.dictionary[t]))}return n}generateShavianTranslationToEnglishMultipleChoiceQuestion(i){let n=[],e=new Set;if(this.dictionary==null)return[];for(;n.length<i&&n.length<this.dictionary.length;){let t=Math.floor(Math.random()*this.dictionary.length);if(!e.has(t)){let o=this.dictionary[t],f=this.getSimilarWords(o.shaw,3).map(B=>B.shaw);f.push(o.shaw);let s=this.shuffleArray(f),l="Z";s[0]==o.shaw?l="A":s[1]==o.shaw?l="B":s[2]==o.shaw?l="C":l="D",e.add(t);let W={question:"What is the Shavian for "+o.english+"?",choiceA:s[0],choiceB:s[1],choiceC:s[2],choiceD:s[3],correctAnswer:l};n.push(W)}}return n}getSimilarWords(i,n){let e=this.dictionary.map(t=>({word:t,distance:this.levenshtein(i,t.shaw)}));return e.sort((t,o)=>t.distance-o.distance),e.slice(1,n+1).map(t=>t.word)}levenshtein(i,n){let e=Array.from({length:i.length+1},()=>Array(n.length+1).fill(0));for(let t=0;t<=i.length;t++)e[t][0]=t;for(let t=0;t<=n.length;t++)e[0][t]=t;for(let t=1;t<=i.length;t++)for(let o=1;o<=n.length;o++)i[t-1]===n[o-1]?e[t][o]=e[t-1][o-1]:e[t][o]=Math.min(e[t-1][o]+1,e[t][o-1]+1,e[t-1][o-1]+1);return e[i.length][n.length]}shuffleArray(i){for(let n=i.length-1;n>0;n--){let e=Math.floor(Math.random()*(n+1));[i[n],i[e]]=[i[e],i[n]]}return i}};export{E as a,O as b};
